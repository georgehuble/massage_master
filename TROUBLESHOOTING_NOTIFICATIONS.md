# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ Telegram –±–æ—Ç–∞

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```bash
# –í —Ñ–∞–π–ª–µ .env –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
VITE_ADMIN_ID=telegram_id_–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
CALENDAR_ID=id_google_–∫–∞–ª–µ–Ω–¥–∞—Ä—è
GOOGLE_APPLICATION_CREDENTIALS=–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É_—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ_–∞–∫–∫–∞—É–Ω—Ç–∞
```

### 2. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ ADMIN_ID**

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID:**

```python
# –î–æ–±–∞–≤—å—Ç–µ –≤ assistent_bot.py –≤—Ä–µ–º–µ–Ω–Ω–æ:
@dp.message()
async def debug_user_id(message: types.Message):
    await message.answer(f"–í–∞—à ID: {message.from_user.id}")
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot)

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞**

#### –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
python assistent_bot.py
```

#### –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ `/start`
2. –ï—Å–ª–∏ –≤—ã –∞–¥–º–∏–Ω - –Ω–∞–∂–º–∏—Ç–µ "üìû –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"
3. –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### 4. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –±–æ—Ç–∞**

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç:
- ‚úÖ –°–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
- ‚úÖ –ò–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
- ‚úÖ –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è

### 5. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ WebApp –¥–∞–Ω–Ω—ã—Ö**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

```javascript
// –í App.jsx –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:
const dataToSend = JSON.stringify({
  slot: selectedSlot,
  name: userNameForBooking,
  massageType: selectedMassageType.id,
  massageName: selectedMassageType.name,
  price: selectedMassageType.price
});
```

### 6. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**

#### –í –∫–æ–Ω—Å–æ–ª–∏ –±–æ—Ç–∞ –¥–æ–ª–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å—Å—è:
```
‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ –Ω–∞ 2025-01-15 14:00:00 (–ú–∞—Å—Å–∞–∂ –≤—Å–µ–≥–æ —Ç–µ–ª–∞)
‚úÖ –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ: https://calendar.google.com/calendar/event?eid=...
```

#### –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:
```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏: ...
‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ: ...
‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É: ...
```

## üõ†Ô∏è –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```bash
echo $BOT_TOKEN
echo $VITE_ADMIN_ID  
echo $CALENDAR_ID
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ—Ç–∞ –≤—Ä—É—á–Ω—É—é
```python
import asyncio
from aiogram import Bot

async def test_bot():
    bot = Bot(token="–≤–∞—à_—Ç–æ–∫–µ–Ω")
    try:
        await bot.send_message(chat_id="–≤–∞—à_id", text="–¢–µ—Å—Ç")
        print("‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç")
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
    finally:
        await bot.session.close()

asyncio.run(test_bot())
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Google Calendar API
```python
from calendar_utils import get_calendar_service

try:
    service = get_calendar_service()
    calendars = service.calendarList().list().execute()
    print("‚úÖ Google Calendar API —Ä–∞–±–æ—Ç–∞–µ—Ç")
    print(f"–î–æ—Å—Ç—É–ø–Ω–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π: {len(calendars['items'])}")
except Exception as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ Google API: {e}")
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
```python
from datetime import datetime, timedelta
from calendar_utils import create_event

try:
    test_time = datetime.now() + timedelta(hours=1)
    end_time = test_time + timedelta(minutes=60)
    
    event_link = create_event(
        name="–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
        start_time=test_time,
        end_time=end_time,
        massage_type="–¢–µ—Å—Ç–æ–≤—ã–π –º–∞—Å—Å–∞–∂",
        description="–¢–µ—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
    )
    print(f"‚úÖ –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ: {event_link}")
except Exception as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è: {e}")
```

## üîç –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "Forbidden: bot was blocked by the user"
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å.

### –û—à–∏–±–∫–∞: "Invalid token"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å BOT_TOKEN –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –û—à–∏–±–∫–∞: "Chat not found"
**–†–µ—à–µ–Ω–∏–µ:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ADMIN_ID. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID.

### –û—à–∏–±–∫–∞: "Credentials not found"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ google_key.json –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é GOOGLE_APPLICATION_CREDENTIALS.

### –û—à–∏–±–∫–∞: "Calendar not found"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CALENDAR_ID –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.

## üìù –¢–µ—Å—Ç–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`
- [ ] –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- [ ] –ö–Ω–æ–ø–∫–∞ "–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] WebApp –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –º–∞—Å—Å–∞–∂–∞
- [ ] –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- [ ] –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è
- [ ] –ü—Ä–∏ –∑–∞–ø–∏—Å–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
- [ ] –ü—Ä–∏ –∑–∞–ø–∏—Å–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É
- [ ] –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Google Calendar

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
5. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å –ª–æ–≥–∞–º–∏ –æ—à–∏–±–æ–∫

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è Massage Master Bot v2.0** ü§ñ 